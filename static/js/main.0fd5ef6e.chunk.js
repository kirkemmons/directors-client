(this.webpackJsonpdirectors_client=this.webpackJsonpdirectors_client||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(14),n=a.n(c),r=(a(35),a(30)),i=a(2),l=(a(36),a(4)),o=a(76),u=(a(37),a(20)),d=a(0);var j=function(e){var t=e.variant,a=e.heading,c=e.message,n=Object(s.useState)(!0),r=Object(i.a)(n,2),l=r[0],o=r[1],j=Object(s.useState)(null),b=Object(i.a)(j,2),m=b[0],h=b[1];return console.log(m),Object(s.useEffect)((function(){var e=setTimeout((function(){return o(!1)}),5e3);return h(e),function(){clearTimeout(m)}}),[]),Object(d.jsx)(u.a,{variant:t,onClose:function(){return o(!1)},dismissible:!0,show:l,children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(u.a.Heading,{children:a}),Object(d.jsx)("p",{className:"alert-body",children:c})]})})},b=(a(42),a(6)),m=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b.c,{to:"/directors",className:"link",children:"Directors"}),Object(d.jsx)(b.c,{to:"/directors/create",className:"link",children:"Add a Director"}),Object(d.jsx)(b.c,{to:"/change-password",className:"link",children:"Change Password"}),Object(d.jsx)(b.c,{to:"/sign-out",className:"link",children:"Sign Out"})]}),h=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b.c,{to:"/sign-up",className:"link",children:"Sign Up"}),Object(d.jsx)(b.c,{to:"/sign-in",className:"link",children:"Sign In"})]}),O=Object(d.jsx)(d.Fragment,{}),p=function(e){var t=e.user,a=Object(s.useState)(!1),c=Object(i.a)(a,2),n=c[0],r=c[1],l=function(){r(!n)};return Object(d.jsx)("div",{className:"nav",children:Object(d.jsxs)("div",{className:"nav-body",children:[Object(d.jsx)(b.c,{className:"logo",to:"/",children:"directorsUncut"}),Object(d.jsxs)("div",{className:"links",children:[t&&Object(d.jsxs)("div",{className:"link-welcome",children:["Welcome, ",t.email,"!"]}),O,t?m:h]}),Object(d.jsxs)("div",{className:"curtain",children:[Object(d.jsx)("div",{className:"curtainBtn",children:Object(d.jsx)("button",{className:"menuBtn",onClick:l,children:"Menu"})}),Object(d.jsxs)("div",{className:"overlay ".concat(n?" showMenu":""),children:[Object(d.jsx)("button",{className:"overlayBtn",onClick:l,children:"X"}),Object(d.jsxs)("div",{className:"overlay-content",children:[O,t?m:h]})]})]})]})})},x=a(3),f=a.n(x),g=a(7);a(44),a(45);var v=function(){return Object(d.jsx)("div",{className:"footer",children:Object(d.jsx)("p",{className:"signature",children:"\xa9 Kirk Emmons | 2022"})})},N=function(e){return Object(d.jsxs)("div",{className:"layout",children:[Object(d.jsx)(p,{user:e.user}),Object(d.jsx)("div",{className:"layout-children",children:e.children}),Object(d.jsx)(v,{})]})},w="https://directors-api2.herokuapp.com",k="http://localhost:8000",y="localhost"===window.location.hostname?k:w,S=a(8),C=a.n(S),A=function(e,t,a){return C.a.post(y+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:a}})},D=function(e,t){return C.a.post(y+"/sign-in/",{credentials:{email:e,password:t}})},q=function(e){return C.a.delete(y+"/sign-out/",{headers:{Authorization:"Token ".concat(e.token)}})},F=function(e,t,a){return C.a.patch(y+"/change-pw/",{passwords:{old:e,new:t}},{headers:{Authorization:"Token ".concat(a.token)}})},E=function(e){var t=e.msgAlert,a=e.setUser,c=Object(s.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1],u=Object(s.useState)(""),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(s.useState)(""),O=Object(i.a)(h,2),p=O[0],x=O[1],v=Object(s.useState)(!1),w=Object(i.a)(v,2),k=w[0],y=w[1],S=function(){var e=Object(g.a)(f.a.mark((function e(s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,A(r,b,p);case 4:return e.next=6,D(r,b);case 6:c=e.sent,a(c.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),y(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),o(""),m(""),x(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return k?Object(d.jsx)(l.a,{to:"/"}):Object(d.jsx)(N,{children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsx)("h1",{children:"Sign Up Form"}),Object(d.jsxs)("form",{className:"sign-up-form",onSubmit:S,children:[Object(d.jsx)("label",{className:"sign-up-label",children:"Email Address"}),Object(d.jsx)("input",{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("label",{className:"sign-up-label",children:"Password"}),Object(d.jsx)("input",{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("label",{className:"sign-up-label",children:"Password Confirmation"}),Object(d.jsx)("input",{required:!0,name:"passwordConfirmation",value:p,type:"password",placeholder:"Confirm Password",onChange:function(e){return x(e.target.value)}}),Object(d.jsx)("button",{className:"sign-up-btn",type:"submit",children:"Sign Up"})]})]})})},P=(a(64),function(e){var t=e.msgAlert,a=e.setUser,c=Object(s.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1],u=Object(s.useState)(""),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(s.useState)(!1),O=Object(i.a)(h,2),p=O[0],x=O[1],v=function(){var e=Object(g.a)(f.a.mark((function e(s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,D(r,b);case 4:c=e.sent,a(c.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),x(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),o(""),m(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return p?Object(d.jsx)(l.a,{to:"/"}):Object(d.jsx)(N,{children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsx)("h1",{children:"Login to your Account"}),Object(d.jsxs)("form",{className:"sign-in-form",onSubmit:v,children:[Object(d.jsx)("label",{className:"sign-in-label",children:"Email Address"}),Object(d.jsx)("input",{required:!0,type:"email",name:"email",value:r,placeholder:"Enter Email",onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("label",{className:"sign-in-label",children:"Password"}),Object(d.jsx)("input",{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("button",{className:"sign-in-btn",type:"submit",children:"Login"})]})]})})}),U=function(e){var t=e.msgAlert,a=e.clearUser,c=e.user,n=Object(s.useState)(!1),r=Object(i.a)(n,2),o=r[0],u=r[1];return Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(c);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),u(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!c||o?Object(d.jsx)(l.a,{to:"/"}):""},T=(a(65),function(e){var t=e.msgAlert,a=e.user,c=Object(s.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1],u=Object(s.useState)(""),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(s.useState)(!1),O=Object(i.a)(h,2),p=O[0],x=O[1],v=function(){var e=Object(g.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,F(r,b,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),x(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),o(""),m(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!a||p?Object(d.jsx)(l.a,{to:"/"}):Object(d.jsx)(N,{user:a,children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsx)("h1",{children:"ChangePassword"}),Object(d.jsxs)("form",{className:"change-password-form",onSubmit:v,children:[Object(d.jsx)("label",{className:"change-password-label",children:"Old Password"}),Object(d.jsx)("input",{required:!0,name:"oldPassword",value:r,type:"password",placeholder:"Old Password",onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("label",{className:"change-password-label",children:"New Password"}),Object(d.jsx)("input",{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("button",{className:"change-password-btn",type:"submit",children:"Submit"})]})]})})}),z=(a(66),a(67),function(e){return C.a.get(y+"/directors/",{headers:{Authorization:"Token ".concat(e.token)}})}),I=function(e,t){return C.a.get(y+"/directors/".concat(e,"/"),{headers:{Authorization:"Token ".concat(t.token)}})},B=function(e,t){return console.log("user ",e.token),C.a.post(y+"/directors/",{director:t},{headers:{Authorization:"Token ".concat(e.token)}})},L=function(e,t,a){return C.a.patch(y+"/directors/".concat(t,"/"),{director:a},{headers:{Authorization:"Token ".concat(e.token)}})},R=function(e,t){return C.a.delete(y+"/directors/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},W=function(e){var t=e.user,a=e.msgAlert,c=Object(s.useState)([]),n=Object(i.a)(c,2),r=n[0],o=n[1],u=Object(s.useState)(!1),j=Object(i.a)(u,2),m=j[0],h=j[1];return t?(Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(t){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t);case 3:s=e.sent,o(s.data.directors),h(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({heading:"Directors List failed to load, try creating one first",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[]),m?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"all-director-title",children:"Director List"}),Object(d.jsxs)("p",{className:"all-director-sentence",children:[" ","Want to add a Director?",Object(d.jsxs)(b.b,{to:"/directors/create",style:{textDecoration:"underline"},children:[" ","Click Here!"]})]}),r&&r.map((function(e){return Object(d.jsx)(b.b,{to:"/directors/".concat(e.id),children:Object(d.jsxs)("div",{className:"director-container",children:[Object(d.jsx)("img",{src:e.image,alt:e.name,className:"director-card-img"}),Object(d.jsx)("h2",{className:"director-card",children:e.name}),Object(d.jsx)("p",{children:Object(d.jsx)("em",{children:"Read More"})})]})},e.id)}))]})}):Object(d.jsx)("p",{className:"loading",children:"Loading..."})):Object(d.jsx)(l.a,{to:"/"})};function _(e){return Object(d.jsx)("div",{children:Object(d.jsx)(N,{user:e.user,children:Object(d.jsx)("div",{className:"all-directors",children:Object(d.jsx)(W,{user:e.user})})})})}a(68);var H=function(e,t){return C.a.get(y+"/films/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},M=function(e,t){return console.log("user ",e.token),C.a.post(y+"/films/",{film:t},{headers:{Authorization:"Token ".concat(e.token)}})},J=function(e,t,a){return C.a.patch(y+"/films/".concat(t,"/"),{film:a},{headers:{Authorization:"Token ".concat(e.token)}})},K=function(e,t){return C.a.delete(y+"/films/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})};var X=function(e){var t=e.user,a=e.msgAlert,c=Object(s.useState)(null),n=Object(i.a)(c,2),r=n[0],o=n[1],u=Object(s.useState)(!1),j=Object(i.a)(u,2),m=j[0],h=j[1],O=Object(s.useState)(!1),p=Object(i.a)(O,2),x=p[0],v=p[1],w=Object(l.h)().id;if(!t)return Object(d.jsx)(l.a,{to:"/"});Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(t){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(w,t);case 3:s=e.sent,o(s.data.director),v(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({heading:"Director failed to load",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[w]);var k=function(){var e=Object(g.a)(f.a.mark((function e(t,s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(s,w);case 3:h(!0),a({heading:"Director Deleted",message:"Deleted director successfully.",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({heading:"Failed to delete director",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(g.a)(f.a.mark((function e(t,s,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(s,c);case 3:h(!0),a({heading:"Film Deleted",message:"Deleted film successfully.",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({heading:"Failed to delete film",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}();return x?m?Object(d.jsx)(l.a,{to:"/directors"}):Object(d.jsx)(N,{user:t,children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"director-detail",children:[Object(d.jsx)("img",{src:r.image,alt:r.name,className:"director-img"}),Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("p",{className:"director-name",children:Object(d.jsx)("b",{children:r.name})}),Object(d.jsx)("p",{className:"director-roles",children:Object(d.jsx)("em",{children:r.roles})}),Object(d.jsx)("p",{className:"director-bio",children:r.biography}),Object(d.jsxs)("div",{className:"director-detail-btns",children:[Object(d.jsx)(b.b,{to:"/directors/".concat(r.id,"/edit"),children:Object(d.jsx)("button",{className:"edit-button",children:"Edit"})}),Object(d.jsx)(b.b,{className:"delete-button",to:"/directors",children:Object(d.jsx)("button",{className:"delete-button",onClick:function(e){return k(e,t)},children:"Delete"})})]})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"film-section",children:Object(d.jsx)("p",{className:"film-section-title",children:"Films:"})}),Object(d.jsx)("div",{className:"film-section-add",children:Object(d.jsxs)("p",{className:"film-section-add-sentence",children:["Want to add a film?",Object(d.jsxs)(b.b,{to:"/films/create",style:{textDecoration:"underline"},children:[" ","Click Here!"]})]})}),Object(d.jsx)("div",{className:"film-card",children:r&&r.films.map((function(e){return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:e.image,alt:e.title})}),Object(d.jsx)("div",{className:"details",children:Object(d.jsxs)("div",{className:"center",children:[Object(d.jsx)("h2",{children:Object(d.jsxs)("b",{children:[e.title,", ",e.release]})}),Object(d.jsx)("p",{children:e.description}),Object(d.jsx)(b.b,{to:"/films/".concat(e.id,"/edit"),children:Object(d.jsx)("button",{className:"edit-button",children:"Edit"})}),Object(d.jsx)(b.b,{className:"delete-button",to:"/directors",children:Object(d.jsx)("button",{className:"delete-button",onClick:function(a){return y(a,t,e.id)},children:"Delete"})})]})})]},e.id)}))})]})}):Object(d.jsx)("p",{className:"loading",children:"Loading..."})},Y=a(12),G=a(5);a(69);var Q=function(e){var t=e.user,a=e.msgAlert,c=Object(l.g)(),n=Object(s.useState)({name:"",roles:"",biography:"",image:""}),r=Object(i.a)(n,2),o=r[0],u=r[1],j=Object(l.h)().id;Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,j);case 2:a=e.sent,u(a.data.director);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[j]);var b=function(e){var t=e.target,a=t.name,s=t.value;u(Object(G.a)(Object(G.a)({},o),{},Object(Y.a)({},a,s)))},m=function(){var e=Object(g.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,L(t,j,o);case 4:a({heading:"Director Updated",message:"Updated director successfully",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({heading:"Failed to update director",message:e.t0.message,variant:"danger"});case 10:c("/directors/".concat(j,"/"));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(N,{user:t,children:[Object(d.jsx)("div",{className:"director-edit",children:Object(d.jsx)("h1",{className:"director-edit-title",children:"Edit Director"})}),Object(d.jsx)("div",{className:"edit-form",children:Object(d.jsxs)("form",{onSubmit:m,children:[Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Name:"}),Object(d.jsx)("input",{className:"input",value:o.name,name:"name",required:!0,autoFocus:!0,onChange:b})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Roles:"}),Object(d.jsx)("input",{className:"input",value:o.roles,name:"roles",required:!0,onChange:b})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Biography:"}),Object(d.jsx)("input",{className:"input",rows:10,value:o.biography,name:"biography",required:!0,onChange:b})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Image:"}),Object(d.jsx)("input",{className:"input",value:o.image,name:"image",required:!0,onChange:b})]}),Object(d.jsx)("button",{className:"submit",type:"submit",children:"Submit"})]})})]})};a(70);var V=function(e){var t=e.user,a=e.msgAlert,c=Object(l.g)(),n=Object(s.useState)({name:"",roles:"",biography:"",image:"",films:[]}),r=Object(i.a)(n,2),o=r[0],u=r[1],j=function(e){var t=e.target,a=t.name,s=t.value;u(Object(G.a)(Object(G.a)({},o),{},Object(Y.a)({},a,s)))},b=function(){var e=Object(g.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,B(t,o);case 4:a({heading:"Director Created",message:"Created ".concat(m," successfully."),variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({heading:"Failed to create director",message:e.t0.message,variant:"danger"});case 10:c("/directors/");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),m=o.name,h=o.roles,O=o.biography,p=o.image;return Object(d.jsxs)(N,{user:t,children:[Object(d.jsx)("div",{className:"director-edit",children:Object(d.jsx)("h1",{className:"director-edit-title",children:"Add Director"})}),Object(d.jsx)("div",{className:"edit-form",children:Object(d.jsxs)("form",{onSubmit:b,children:[Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Name:"}),Object(d.jsx)("input",{className:"input",value:m,name:"name",required:!0,autoFocus:!0,onChange:j})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Roles:"}),Object(d.jsx)("input",{className:"input",value:h,name:"roles",require:!0,onChange:j})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Biography:"}),Object(d.jsx)("input",{className:"input",rows:10,value:O,name:"biography",required:!0,onChange:j})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Image:"}),Object(d.jsx)("input",{className:"input",value:p,name:"image",required:!0,onChange:j})]}),Object(d.jsx)("button",{className:"submit",type:"submit",children:"Submit"})]})})]})};a(71);var Z=function(e){var t=e.user,a=e.msgAlert,c=Object(l.g)(),n=Object(s.useState)([]),r=Object(i.a)(n,2),o=r[0],u=r[1],j=Object(s.useState)({title:"",release:"",description:"",image:"",director:""}),b=Object(i.a)(j,2),m=b[0],h=b[1];if(!t)return Object(d.jsx)(l.a,{to:"/"});Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:a=e.sent,u(a.data.directors);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[]);var O=function(e){var t=e.target,a=t.name,s=t.value;h(Object(G.a)(Object(G.a)({},m),{},Object(Y.a)({},a,s)))},p=function(){var e=Object(g.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,M(t,m);case 4:a({heading:"Film Created",message:"Created ".concat(x," successfully."),variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({heading:"Failed to create film",message:e.t0.message,variant:"danger"});case 10:c("/directors/");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),x=m.title,v=m.release,w=m.description,k=m.image;return Object(d.jsxs)(N,{user:t,children:[Object(d.jsx)("div",{className:"film-create",children:Object(d.jsx)("h1",{className:"film-create-title",children:"Add Film"})}),Object(d.jsx)("div",{className:"film-edit-form",children:Object(d.jsxs)("form",{onSubmit:p,children:[Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Title:"}),Object(d.jsx)("input",{className:"input",value:x,name:"title",required:!0,autoFocus:!0,onChange:O})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Release:"}),Object(d.jsx)("input",{className:"input",value:v,name:"release",required:!0,onChange:O})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Description:"}),Object(d.jsx)("input",{className:"input",rows:10,value:w,name:"description",required:!0,onChange:O})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Image:"}),Object(d.jsx)("input",{className:"input",value:k,name:"image",required:!0,onChange:O})]}),Object(d.jsx)("div",{className:"input-section",children:Object(d.jsx)("label",{className:"label",children:Object(d.jsxs)("select",{value:o.name,name:"director",required:!0,onChange:O,options:o.name,children:[Object(d.jsx)("option",{value:"0",selected:!0,children:"Director Name"}),o&&o.map((function(e){return Object(d.jsx)("option",{value:e.id,name:"director",required:!0,onChange:O,children:e.name},e.id)}))]})})}),Object(d.jsx)("button",{className:"submit",type:"submit",children:"Submit"})]})})]})};a(72);var $=function(e){var t=e.user,a=e.msgAlert,c=Object(l.g)(),n=Object(s.useState)([]),r=Object(i.a)(n,2),o=r[0],u=r[1],j=Object(s.useState)({title:"",release:"",description:"",image:"",director:""}),b=Object(i.a)(j,2),m=b[0],h=b[1],O=Object(l.h)().id;Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:a=e.sent,u(a.data.directors);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[O]),Object(s.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,O);case 2:a=e.sent,h(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[O]);var p=function(e){var t=e.target,a=t.name,s=t.value;h(Object(G.a)(Object(G.a)({},m),{},Object(Y.a)({},a,s)))},x=function(){var e=Object(g.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,J(t,O,m);case 4:a({heading:"Film Updated",message:"Updated film successfully",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({heading:"Failed to update film",message:e.t0.message,variant:"danger"});case 10:c("/directors/".concat(O));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(N,{user:t,children:[Object(d.jsx)("div",{className:"film-edit",children:Object(d.jsx)("h1",{className:"film-edit-title",children:"Edit Film"})}),Object(d.jsx)("div",{className:"film-edit-form",children:Object(d.jsxs)("form",{onSubmit:x,children:[Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Title:"}),Object(d.jsx)("input",{className:"input",value:m.title,name:"title",required:!0,autoFocus:!0,onChange:p})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Release:"}),Object(d.jsx)("input",{className:"input",value:m.release,name:"release",required:!0,onChange:p})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Description:"}),Object(d.jsx)("input",{className:"input",rows:10,value:m.description,name:"description",required:!0,onChange:p})]}),Object(d.jsxs)("div",{className:"input-section",children:[Object(d.jsx)("label",{className:"label",children:"Image:"}),Object(d.jsx)("input",{className:"input",value:m.image,name:"image",required:!0,onChange:p})]}),Object(d.jsx)("div",{className:"input-section",children:Object(d.jsx)("label",{className:"label",children:Object(d.jsxs)("select",{value:o.name,name:"director",required:!0,onChange:p,options:o.name,children:[Object(d.jsx)("option",{value:"0",selected:!0,children:"Director Name"}),o.map((function(e){return Object(d.jsx)("option",{value:e.id,name:"director",required:!0,onChange:p,children:e.name},e.id)}))]})})}),Object(d.jsx)("button",{className:"submit",type:"submit",children:"Submit"})]})})]})},ee=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),u=Object(i.a)(n,2),b=u[0],m=u[1],h=function(e){var t=e.heading,a=e.message,s=e.variant,c=Object(o.a)();m((function(e){return[].concat(Object(r.a)(e),[{heading:t,message:a,variant:s,id:c}])}))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{user:a}),b.map((function(e){return Object(d.jsx)(j,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(d.jsx)("main",{className:"body",children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/sign-up",element:Object(d.jsx)(E,{msgAlert:h,setUser:c})}),Object(d.jsx)(l.b,{path:"/sign-in",element:Object(d.jsx)(P,{msgAlert:h,setUser:c})}),Object(d.jsx)(l.b,{path:"/sign-out",element:Object(d.jsx)(U,{msgAlert:h,clearUser:function(){return c(null)},user:a})}),Object(d.jsx)(l.b,{path:"/change-password",element:Object(d.jsx)(T,{msgAlert:h,user:a})}),Object(d.jsx)(l.b,{path:"/directors",element:Object(d.jsx)(_,{msgAlert:h,user:a})}),Object(d.jsx)(l.b,{path:"/directors/:id",element:Object(d.jsx)(X,{msgAlert:h,user:a})}),Object(d.jsx)(l.b,{path:"/directors/:id/edit",element:Object(d.jsx)(Q,{msgAlert:h,user:a})}),Object(d.jsx)(l.b,{path:"/directors/create",element:Object(d.jsx)(V,{msgAlert:h,user:a})}),Object(d.jsx)(l.b,{path:"/films/create",element:Object(d.jsx)(Z,{msgAlert:h,user:a})}),Object(d.jsx)(l.b,{path:"/films/:id/edit",element:Object(d.jsx)($,{msgAlert:h,user:a})})]})})]})},te=Object(d.jsx)(b.a,{basename:"/directors_client",children:Object(d.jsx)(ee,{})});n.a.render(te,document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.0fd5ef6e.chunk.js.map